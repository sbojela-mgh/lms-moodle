function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a){if("function"==typeof define&&define.amd){define ("block_learnerscript/dataTables.fixedHeader",["jquery","datatables.net"],function(b){return a(b,window,document)})}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}})(function(a,b,c){'use strict';var d=a.fn.dataTable,e=0,f=function(c,g){if(!(this instanceof f)){throw"FixedHeader must be initialised with the 'new' keyword."}if(!0===g){g={}}c=new d.Api(c);this.c=a.extend(!0,{},f.defaults,g);this.s={dt:c,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:a(b).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:c.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+e++,scrollLeft:{header:-1,footer:-1},enable:!0};this.dom={floatingHeader:null,thead:a(c.table().header()),tbody:a(c.table().body()),tfoot:a(c.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}};this.dom.header.host=this.dom.thead.parent();this.dom.footer.host=this.dom.tfoot.parent();var h=c.settings()[0];if(h._fixedHeader){throw"FixedHeader already initialised on table "+h.nTable.id}h._fixedHeader=this;this._constructor()};a.extend(f.prototype,{enable:function enable(a){this.s.enable=a;if(this.c.header){this._modeChange("in-place","header",!0)}if(this.c.footer&&this.dom.tfoot.length){this._modeChange("in-place","footer",!0)}this.update()},headerOffset:function headerOffset(a){if(a!==void 0){this.c.headerOffset=a;this.update()}return this.c.headerOffset},footerOffset:function footerOffset(a){if(a!==void 0){this.c.footerOffset=a;this.update()}return this.c.footerOffset},update:function update(){this._positions();this._scroll(!0)},_constructor:function _constructor(){var c=this,d=this.s.dt;a(b).on("scroll"+this.s.namespace,function(){c._scroll()}).on("resize"+this.s.namespace,function(){c.s.position.windowHeight=a(b).height();c.update()});var e=a(".fh-fixedHeader");if(!this.c.headerOffset&&e.length){this.c.headerOffset=e.outerHeight()}var f=a(".fh-fixedFooter");if(!this.c.footerOffset&&f.length){this.c.footerOffset=f.outerHeight()}d.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc",function(){c.update()});d.on("destroy.dtfc",function(){d.off(".dtfc");a(b).off(c.s.namespace)});this._positions();this._scroll()},_clone:function _clone(b,c){var d=this.s.dt,e=this.dom[b],f="header"===b?this.dom.thead:this.dom.tfoot;if(!c&&e.floating){e.floating.removeClass("fixedHeader-floating fixedHeader-locked")}else{if(e.floating){e.placeholder.remove();this._unsize(b);e.floating.children().detach();e.floating.remove()}e.floating=a(d.table().node().cloneNode(!1)).css("table-layout","fixed").removeAttr("id").append(f).appendTo("body");e.placeholder=f.clone(!1);e.placeholder.find("*[id]").removeAttr("id");e.host.prepend(e.placeholder);this._matchWidths(e.placeholder,e.floating)}},_matchWidths:function _matchWidths(b,c){var d=function(c){return a(c,b).map(function(){return a(this).width()}).toArray()},e=function(b,d){a(b,c).each(function(b){a(this).css({width:d[b],minWidth:d[b]})})},f=d("th"),g=d("td");e("th",f);e("td",g)},_unsize:function _unsize(b){var c=this.dom[b].floating;if(c&&("footer"===b||"header"===b&&!this.s.autoWidth)){a("th, td",c).css({width:"",minWidth:""})}else if(c&&"header"===b){a("th, td",c).css("min-width","")}},_horizontal:function _horizontal(a,b){var c=this.dom[a],d=this.s.position,e=this.s.scrollLeft;if(c.floating&&e[a]!==b){c.floating.css("left",d.left-b);e[a]=b}},_modeChange:function _modeChange(b,d,e){var f=this.s.dt,g=this.dom[d],h=this.s.position,i=this.dom["footer"===d?"tfoot":"thead"],j=a.contains(i[0],c.activeElement)?c.activeElement:null;if("in-place"===b){if(g.placeholder){g.placeholder.remove();g.placeholder=null}this._unsize(d);if("header"===d){g.host.prepend(this.dom.thead)}else{g.host.append(this.dom.tfoot)}if(g.floating){g.floating.remove();g.floating=null}}else if("in"===b){this._clone(d,e);g.floating.addClass("fixedHeader-floating").css("header"===d?"top":"bottom",this.c[d+"Offset"]).css("left",h.left+"px").css("width",h.width+"px");if("footer"===d){g.floating.css("top","")}}else if("below"===b){this._clone(d,e);g.floating.addClass("fixedHeader-locked").css("top",h.tfootTop-h.theadHeight).css("left",h.left+"px").css("width",h.width+"px")}else if("above"===b){this._clone(d,e);g.floating.addClass("fixedHeader-locked").css("top",h.tbodyTop).css("left",h.left+"px").css("width",h.width+"px")}if(j&&j!==c.activeElement){j.focus()}this.s.scrollLeft.header=-1;this.s.scrollLeft.footer=-1;this.s[d+"Mode"]=b},_positions:function _positions(){var b=this.s.dt,c=b.table(),d=this.s.position,e=this.dom,f=a(c.node()),g=f.children("thead"),h=f.children("tfoot"),i=e.tbody;d.visible=f.is(":visible");d.width=f.outerWidth();d.left=f.offset().left;d.theadTop=g.offset().top;d.tbodyTop=i.offset().top;d.theadHeight=d.tbodyTop-d.theadTop;if(h.length){d.tfootTop=h.offset().top;d.tfootBottom=d.tfootTop+h.outerHeight();d.tfootHeight=d.tfootBottom-d.tfootTop}else{d.tfootTop=d.tbodyTop+i.outerHeight();d.tfootBottom=d.tfootTop;d.tfootHeight=d.tfootTop}},_scroll:function _scroll(b){var d=a(c).scrollTop(),e=a(c).scrollLeft(),f=this.s.position,g,h;if(!this.s.enable){return}if(this.c.header){if(!f.visible||d<=f.theadTop-this.c.headerOffset){g="in-place"}else if(d<=f.tfootTop-f.theadHeight-this.c.headerOffset){g="in"}else{g="below"}if(b||g!==this.s.headerMode){this._modeChange(g,"header",b)}this._horizontal("header",e)}if(this.c.footer&&this.dom.tfoot.length){if(!f.visible||d+f.windowHeight>=f.tfootBottom+this.c.footerOffset){h="in-place"}else if(f.windowHeight+d>f.tbodyTop+f.tfootHeight+this.c.footerOffset){h="in"}else{h="above"}if(b||h!==this.s.footerMode){this._modeChange(h,"footer",b)}this._horizontal("footer",e)}}});f.version="3.1.3";f.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0};a.fn.dataTable.FixedHeader=f;a.fn.DataTable.FixedHeader=f;a(c).on("init.dt.dtfh",function(b,c){if("dt"!==b.namespace){return}var e=c.oInit.fixedHeader,g=d.defaults.fixedHeader;if((e||g)&&!c._fixedHeader){var h=a.extend({},g,e);if(!1!==e){new f(c,h)}}});d.Api.register("fixedHeader()",function(){});d.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(a){var b=a._fixedHeader;if(b){b.update()}})});d.Api.register("fixedHeader.enable()",function(a){return this.iterator("table",function(b){var c=b._fixedHeader;a=a!==void 0?a:!0;if(c&&a!==c.s.enable){c.enable(a)}})});d.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(a){var b=a._fixedHeader;if(b&&b.s.enable){b.enable(!1)}})});a.each(["header","footer"],function(a,b){d.Api.register("fixedHeader."+b+"Offset()",function(a){var c=this.context;if(a===void 0){return c.length&&c[0]._fixedHeader?c[0]._fixedHeader[b+"Offset"]():void 0}return this.iterator("table",function(c){var d=c._fixedHeader;if(d){d[b+"Offset"](a)}})})});return f});
//# sourceMappingURL=dataTables.fixedHeader.min.js.map
