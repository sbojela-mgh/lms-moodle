function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a){if("function"==typeof define&&define.amd){define ("block_learnerscript/dataTables.responsive",["jquery","block_learnerscript/jquery.dataTables"],function(b){return a(b,window,document)})}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}})(function(a,b,c){'use strict';var f=a.fn.dataTable,g=function(b,c){if(!f.versionCheck||!f.versionCheck("1.10.3")){throw"DataTables Responsive requires DataTables 1.10.3 or newer"}this.s={dt:new f.Api(b),columns:[],current:[]};if(this.s.dt.settings()[0].responsive){return}if(c&&"string"==typeof c.details){c.details={type:c.details}}else if(c&&!1===c.details){c.details={type:!1}}else if(c&&!0===c.details){c.details={type:"inline"}}this.c=a.extend(!0,{},g.defaults,f.defaults.responsive,c);b.responsive=this;this._constructor()};a.extend(g.prototype,{_constructor:function _constructor(){var c=this,d=this.s.dt,e=d.settings()[0],g=a(b).width();d.settings()[0]._responsive=this;a(b).on("resize.dtr orientationchange.dtr",f.util.throttle(function(){var d=a(b).width();if(d!==g){c._resize();g=d}}));e.oApi._fnCallbackReg(e,"aoRowCreatedCallback",function(b){if(-1!==a.inArray(!1,c.s.current)){a(">td, >th",b).each(function(b){var e=d.column.index("toData",b);if(!1===c.s.current[e]){a(this).css("display","none")}})}});d.on("destroy.dtr",function(){d.off(".dtr");a(d.table().body()).off(".dtr");a(b).off("resize.dtr orientationchange.dtr");a.each(c.s.current,function(a,b){if(!1===b){c._setColumnVis(a,!0)}})});this.c.breakpoints.sort(function(c,a){return c.width<a.width?1:c.width>a.width?-1:0});this._classLogic();this._resizeAuto();var h=this.c.details;if(!1!==h.type){c._detailsInit();d.on("column-visibility.dtr",function(){c._classLogic();c._resizeAuto();c._resize()});d.on("draw.dtr",function(){c._redrawChildren()});a(d.table().node()).addClass("dtr-"+h.type)}d.on("column-reorder.dtr",function(){c._classLogic();c._resizeAuto();c._resize()});d.on("column-sizing.dtr",function(){c._resizeAuto();c._resize()});d.on("preXhr.dtr",function(){var a=[];d.rows().every(function(){if(this.child.isShown()){a.push(this.id(!0))}});d.one("draw.dtr",function(){d.rows(a).every(function(){c._detailsDisplay(this,!1)})})});d.on("init.dtr",function(){c._resizeAuto();c._resize();if(a.inArray(!1,c.s.current)){d.columns.adjust()}});this._resize()},_columnsVisiblity:function _columnsVisiblity(b){var c=this.s.dt,d=this.s.columns,e,f,g=d.map(function(a,b){return{columnIdx:b,priority:a.priority}}).sort(function(c,a){if(c.priority!==a.priority){return c.priority-a.priority}return c.columnIdx-a.columnIdx}),h=a.map(d,function(c){return c.auto&&null===c.minWidth?!1:!0===c.auto?"-":-1!==a.inArray(b,c.includeIn)}),j=0;for(e=0,f=h.length;e<f;e++){if(!0===h[e]){j+=d[e].minWidth}}var k=c.settings()[0].oScroll,l=k.sY||k.sX?k.iBarWidth:0,m=c.table().container().offsetWidth-l,n=m-j;for(e=0,f=h.length;e<f;e++){if(d[e].control){n-=d[e].minWidth}}var o=!1;for(e=0,f=g.length;e<f;e++){var p=g[e].columnIdx;if("-"===h[p]&&!d[p].control&&d[p].minWidth){if(o||0>n-d[p].minWidth){o=!0;h[p]=!1}else{h[p]=!0}n-=d[p].minWidth}}var q=!1;for(e=0,f=d.length;e<f;e++){if(!d[e].control&&!d[e].never&&!h[e]){q=!0;break}}for(e=0,f=d.length;e<f;e++){if(d[e].control){h[e]=q}}if(-1===a.inArray(!0,h)){h[0]=!0}return h},_classLogic:function _classLogic(){var b=this,c=this.c.breakpoints,d=this.s.dt,e=d.columns().eq(0).map(function(b){var c=this.column(b),e=c.header().className,f=d.settings()[0].aoColumns[b].responsivePriority;if(f===void 0){var g=a(c.header()).data("priority");f=g!==void 0?1*g:1e4}return{className:e,includeIn:[],auto:!1,control:!1,never:e.match(/\bnever\b/)?!0:!1,priority:f}}),f=function(b,c){var d=e[b].includeIn;if(-1===a.inArray(c,d)){d.push(c)}},g=function(a,d,g,h){var j,k,l;if(!g){e[a].includeIn.push(d)}else if("max-"===g){j=b._find(d).width;for(k=0,l=c.length;k<l;k++){if(c[k].width<=j){f(a,c[k].name)}}}else if("min-"===g){j=b._find(d).width;for(k=0,l=c.length;k<l;k++){if(c[k].width>=j){f(a,c[k].name)}}}else if("not-"===g){for(k=0,l=c.length;k<l;k++){if(-1===c[k].name.indexOf(h)){f(a,c[k].name)}}}};e.each(function(b,d){for(var e=b.className.split(" "),f=!1,h=0,i=e.length,l;h<i;h++){l=a.trim(e[h]);if("all"===l){f=!0;b.includeIn=a.map(c,function(b){return b.name});return}else if("none"===l||b.never){f=!0;return}else if("control"===l){f=!0;b.control=!0;return}a.each(c,function(a,b){var c=b.name.split("-"),e=new RegExp("(min\\-|max\\-|not\\-)?("+c[0]+")(\\-[_a-zA-Z0-9])?"),h=l.match(e);if(h){f=!0;if(h[2]===c[0]&&h[3]==="-"+c[1]){g(d,b.name,h[1],h[2]+h[3])}else if(h[2]===c[0]&&!h[3]){g(d,b.name,h[1],h[2])}}})}if(!f){b.auto=!0}});this.s.columns=e},_detailsDisplay:function _detailsDisplay(b,c){var d=this,e=this.s.dt,f=this.c.details;if(f&&!1!==f.type){var g=f.display(b,c,function(){return f.renderer(e,b[0],d._detailsObj(b[0]))});if(!0===g||!1===g){a(e.table().node()).triggerHandler("responsive-display.dt",[e,b,g,c])}}},_detailsInit:function _detailsInit(){var b=this,c=this.s.dt,d=this.c.details;if("inline"===d.type){d.target="td:first-child, th:first-child"}c.on("draw.dtr",function(){b._tabIndexes()});b._tabIndexes();a(c.table().body()).on("keyup.dtr","td, th",function(b){if(13===b.keyCode&&a(this).data("dtr-keyboard")){a(this).click()}});var f=d.target,g="string"==typeof f?f:"td, th";a(c.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",g,function(d){if(!a(c.table().node()).hasClass("collapsed")){return}if(-1===a.inArray(a(this).closest("tr").get(0),c.rows().nodes().toArray())){return}if("number"==typeof f){var e=0>f?c.columns().eq(0).length+f:f;if(c.cell(this).index().column!==e){return}}var g=c.row(a(this).closest("tr"));if("click"===d.type){b._detailsDisplay(g,!1)}else if("mousedown"===d.type){a(this).css("outline","none")}else if("mouseup"===d.type){a(this).blur().css("outline","")}})},_detailsObj:function _detailsObj(b){var c=this,d=this.s.dt;return a.map(this.s.columns,function(a,e){if(a.never||a.control){return}return{title:d.settings()[0].aoColumns[e].sTitle,data:d.cell(b,e).render(c.c.orthogonal),hidden:d.column(e).visible()&&!c.s.current[e],columnIndex:e,rowIndex:b}})},_find:function _find(a){for(var b=this.c.breakpoints,c=0,d=b.length;c<d;c++){if(b[c].name===a){return b[c]}}},_redrawChildren:function _redrawChildren(){var a=this,b=this.s.dt;b.rows({page:"current"}).iterator("row",function(c,d){b.row(d);a._detailsDisplay(b.row(d),!0)})},_resize:function _resize(){var c=this,d=this.s.dt,e=a(b).width(),f=this.c.breakpoints,g=f[0].name,h=this.s.columns,j,k,l=this.s.current.slice();for(j=f.length-1;0<=j;j--){if(e<=f[j].width){g=f[j].name;break}}var m=this._columnsVisiblity(g);this.s.current=m;var n=!1;for(j=0,k=h.length;j<k;j++){if(!1===m[j]&&!h[j].never&&!h[j].control){n=!0;break}}a(d.table().node()).toggleClass("collapsed",n);var o=!1,p=0;d.columns().eq(0).each(function(a,b){if(!0===m[b]){p++}if(m[b]!==l[b]){o=!0;c._setColumnVis(a,m[b])}});if(o){this._redrawChildren();a(d.table().node()).trigger("responsive-resize.dt",[d,this.s.current]);if(0===d.page.info().recordsDisplay){a("td",d.table().body()).eq(0).attr("colspan",p)}}},_resizeAuto:function _resizeAuto(){var b=this.s.dt,c=this.s.columns;if(!this.c.auto){return}if(-1===a.inArray(!0,a.map(c,function(a){return a.auto}))){return}if(!a.isEmptyObject(h)){a.each(h,function(a){var c=a.split("-");e(b,1*c[0],1*c[1])})}var d=b.table().node().offsetWidth,f=b.columns,g=b.table().node().cloneNode(!1),i=a(b.table().header().cloneNode(!1)).appendTo(g),j=a(b.table().body()).clone(!1,!1).empty().appendTo(g),k=b.columns().header().filter(function(a){return b.column(a).visible()}).to$().clone(!1).css("display","table-cell");a(j).append(a(b.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var l=b.table().footer();if(l){var m=a(l.cloneNode(!1)).appendTo(g),n=b.columns().footer().filter(function(a){return b.column(a).visible()}).to$().clone(!1).css("display","table-cell");a("<tr/>").append(n).appendTo(m)}a("<tr/>").append(k).appendTo(i);if("inline"===this.c.details.type){a(g).addClass("dtr-inline collapsed")}a(g).find("[name]").removeAttr("name");var o=a("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(g);o.insertBefore(b.table().node());k.each(function(a){var d=b.column.index("fromVisible",a);c[d].minWidth=this.offsetWidth||0});o.remove()},_setColumnVis:function _setColumnVis(b,c){var d=this.s.dt,f=c?"":"none";a(d.column(b).header()).css("display",f);a(d.column(b).footer()).css("display",f);d.column(b).nodes().to$().css("display",f);if(!a.isEmptyObject(h)){d.cells(null,b).indexes().each(function(a){e(d,a.row,a.column)})}},_tabIndexes:function _tabIndexes(){var b=this.s.dt,c=b.cells({page:"current"}).nodes().to$(),d=b.settings()[0],e=this.c.details.target;c.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]");var f="number"==typeof e?":eq("+e+")":e;if("td:first-child, th:first-child"===f){f=">td:first-child, >th:first-child"}a(f,b.rows({page:"current"}).nodes()).attr("tabIndex",d.iTabIndex).data("dtr-keyboard",1)}});g.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];g.display={childRow:function childRow(b,c,d){if(c){if(a(b.node()).hasClass("parent")){b.child(d(),"child").show();return!0}}else{if(!b.child.isShown()){b.child(d(),"child").show();a(b.node()).addClass("parent");return!0}else{b.child(!1);a(b.node()).removeClass("parent");return!1}}},childRowImmediate:function childRowImmediate(b,c,d){if(!c&&b.child.isShown()||!b.responsive.hasHidden()){b.child(!1);a(b.node()).removeClass("parent");return!1}else{b.child(d(),"child").show();a(b.node()).addClass("parent");return!0}},modal:function modal(b){return function(d,e,f){if(!e){var g=function(){h.remove();a(c).off("keypress.dtr")},h=a("<div class=\"dtr-modal\"/>").append(a("<div class=\"dtr-modal-display\"/>").append(a("<div class=\"dtr-modal-content\"/>").append(f())).append(a("<div class=\"dtr-modal-close\">&times;</div>").click(function(){g()}))).append(a("<div class=\"dtr-modal-background\"/>").click(function(){g()})).appendTo("body");a(c).on("keyup.dtr",function(a){if(27===a.keyCode){a.stopPropagation();g()}})}else{a("div.dtr-modal-content").empty().append(f())}if(b&&b.header){a("div.dtr-modal-content").prepend("<h2>"+b.header(d)+"</h2>")}}}};var h={};function d(a,b,c){var d=b+"-"+c;if(h[d]){return h[d]}for(var e=[],f=a.cell(b,c).node().childNodes,g=0,j=f.length;g<j;g++){e.push(f[g])}h[d]=e;return e}function e(b,c,d){var e=c+"-"+d;if(!h[e]){return}for(var f=b.cell(c,d).node(),g=h[e],k=g[0].parentNode,l=k.childNodes,m=[],a=0,n=l.length;a<n;a++){m.push(l[a])}for(var o=0,p=m.length;o<p;o++){f.appendChild(m[o])}h[e]=void 0}g.renderer={listHiddenNodes:function listHiddenNodes(){return function(b,c,e){var f=a("<ul data-dtr-index=\""+c+"\" class=\"dtr-details\"/>"),g=!1,h=a.each(e,function(c,e){if(e.hidden){a("<li data-dtr-index=\""+e.columnIndex+"\" data-dt-row=\""+e.rowIndex+"\" data-dt-column=\""+e.columnIndex+"\"><span class=\"dtr-title\">"+e.title+"</span> </li>").append(a("<span class=\"dtr-data\"/>").append(d(b,e.rowIndex,e.columnIndex))).appendTo(f);g=!0}});return g?f:!1}},listHidden:function listHidden(){return function(b,c,d){var e=a.map(d,function(a){return a.hidden?"<li data-dtr-index=\""+a.columnIndex+"\" data-dt-row=\""+a.rowIndex+"\" data-dt-column=\""+a.columnIndex+"\"><span class=\"dtr-title\">"+a.title+"</span> <span class=\"dtr-data\">"+a.data+"</span></li>":""}).join("");return e?a("<ul data-dtr-index=\""+c+"\" class=\"dtr-details\"/>").append(e):!1}},tableAll:function tableAll(b){b=a.extend({tableClass:""},b);return function(c,d,e){var f=a.map(e,function(a){return"<tr data-dt-row=\""+a.rowIndex+"\" data-dt-column=\""+a.columnIndex+"\"><td>"+a.title+":</td> <td>"+a.data+"</td></tr>"}).join("");return a("<table class=\""+b.tableClass+" dtr-details\" width=\"100%\"/>").append(f)}}};g.defaults={breakpoints:g.breakpoints,auto:!0,details:{display:g.display.childRow,renderer:g.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var i=a.fn.dataTable.Api;i.register("responsive()",function(){return this});i.register("responsive.index()",function(b){b=a(b);return{column:b.data("dtr-index"),row:b.parent().data("dtr-index")}});i.register("responsive.rebuild()",function(){return this.iterator("table",function(a){if(a._responsive){a._responsive._classLogic()}})});i.register("responsive.recalc()",function(){return this.iterator("table",function(a){if(a._responsive){a._responsive._resizeAuto();a._responsive._resize()}})});i.register("responsive.hasHidden()",function(){var b=this.context[0];return b._responsive?-1!==a.inArray(!1,b._responsive.s.current):!1});g.version="2.2.1-dev";a.fn.dataTable.Responsive=g;a.fn.DataTable.Responsive=g;a(c).on("preInit.dt.dtr",function(b,c){if("dt"!==b.namespace){return}if(a(c.nTable).hasClass("responsive")||a(c.nTable).hasClass("dt-responsive")||c.oInit.responsive||f.defaults.responsive){var d=c.oInit.responsive;if(!1!==d){new g(c,a.isPlainObject(d)?d:{})}}});return g});
//# sourceMappingURL=dataTables.responsive.min.js.map
