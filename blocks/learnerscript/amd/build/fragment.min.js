define ("block_learnerscript/fragment",["jquery","block_learnerscript/ajax"],function(a,b){var c=function loadFragment(c,d,e,f){var g=[];for(var h in f){g.push({name:h,value:f[h]})}var i=a.Deferred(),j=b.call({args:e,url:e.url},!1);j.done(function(a){i.resolve(a)}).fail(function(a){i.reject(a)});return i.promise()};return{loadFragment:function loadFragment(b,d,e,f){var g=a.Deferred();a.when(c(b,d,e,f)).then(function(b){var c=a(b.javascript),d="";c.each(function(b,c){c=a(c);var e=c.prop("tagName");if(e&&"script"==e.toLowerCase()){if(c.attr("src")){var f=!1;a("script").each(function(b,d){if(a(d).attr("src")==c.attr("src")){f=!0}return!f});if(!f){d+=" { ";d+=" node = document.createElement(\"script\"); ";d+=" node.type = \"text/javascript\"; ";d+=" node.src = decodeURI(\""+encodeURI(c.attr("src"))+"\"); ";d+=" document.getElementsByTagName(\"head\")[0].appendChild(node); ";d+=" } "}}else{d+=" "+c.text()}}});g.resolve(b.html,d)}).fail(function(a){g.reject(a)});return g.promise()}}});
//# sourceMappingURL=fragment.min.js.map
